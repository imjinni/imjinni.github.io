---
layout: single
title: "Fixed Topbar 구현"
post-order: 1
date: "2020-12-07 20:26:00 +0900"
last_modified_at: "2020-12-07 22:49:00 +0900"
---
스크롤을 내리거나 올려도 항상 브라우저 화면의 최상단에 위치하는 Fixed Topbar를 만들자.<br/>
포스트 내용의 세로 길이가 브라우저 화면의 세로 길이 보다 길면 스크롤바가 생긴다.
그리고 스크롤바를 스크롤했을때 보통의 Topbar는 화면 밖으로 사라진다.<br/>
이때 CSS `position: fixed` 속성값 설정과 몇가지 보완을 통해
내 블로그의 Topbar 처럼 화면을 스크롤 했을때에도 항상 화면의 최상단에 위치해 있는 Topbar를 구현하자.

Fixed Topbar를 구현하는 방법은 2가지가 있다.<br/>
둘 모두 설명할 것인데 [첫번째](#구현-method-1)는 약간 문제가 있지만 구현이 매우 간단하고<br/>
[두번째](#구현-method-2)는 문제가 없지만 Javascript를 사용한다.

## Fixed Topbar 장점과 문제점

### 장점: 연산 효율 증가

CSS `position: fixed` 속성을 갖는 모든 요소는
화면을 그리는데 필요한 연산을 줄일 수 있다는 장점을 가진다.

일반적으로 HTML 요소들은 층층이 모여 쌓이는 구조로 되어 있다.
그런데 단 1개 요소의 형태(높이 등) 변경이 전체 구조의 변화를 일으킬 수 있고
그럴 경우 전체 변화를 계산하기 위해 연결된 모든 HTML 요소들의 변화를 연산해야 한다.

Fixed Topbar는 CSS `position: fixed` 속성을 갖는다.
이 속성은 다른 HTML 요소들로부터 Topbar를 독립시킨다.

Topbar가 독립된다는 것은 다른 HTML 요소의 형태 변화에 영향을 받지 않는다는 것이다.
반대로 다른 요소들 또한 Topbar의 형태 변화에 영향을 받지 않는다.

즉, 한쪽의 변화가 다른 한쪽의 구조에 영향을 주지 않기 때문에
화면을 다시 그리기 위한 추가적인 CPU 연산이 필요하지 않다.

### 문제점: 자동 스크롤 시 Topbar가 화면을 가림

특정 페이지로 이동하는 이벤트에서 `href`에 `hash` 값이 있으면
이동한 페이지에서 `hash`가 위치하는 특정 라인으로 자동 스크롤 된다.
이때 Fixed Topbar가 스크롤한 위치를 가리는 문제를 해결해야 한다.

이 문제는 Topbar가 전체 HTML 구조에서 독립되어 있기 때문에 발생한다.

브라우저는 `hash`가 위치하는 특정 라인으로 자동 스크롤 할 때
특정 라인의 y 좌표가 브라우저 화면의 꼭대기(Top)에 오도록 스크롤 한다.
이때 Topbar는 항상 Top에 위치하므로 스크롤한 위치에 있는 라인을 가리게 된다.

따라서 Fixed Topbar를 구현할때엔 이 가림 문제를 해결해야 한다.

# 구현 Method 1

첫번째 방법은 오직 CSS만 사용해서 Topbar를 구현하고
[자동 스크롤 가림 문제](#문제점-자동-스크롤-시-topbar가-화면을-가림)를 __대부분__ 해결한다.

이 방법은 다른 페이지에서 이동해 왔을 때에 한해 자동 스크롤 가림 문제를 해결하지 못한다.

하지만 해결하지 못한 부분이 사용자 경험에 큰 영향을 주지 않을 수 있고
CSS 만 사용하기 때문에 구현이 쉽다는 장점이 있다.<br/>
때문에 다른 블로그들을 보면 문제를 그냥 안고 가는 경우도 있다.

자동 스크롤 가림 문제를 완전히 해결하고 싶다면, 두번째 방법 [구현 Method 2](#구현-method-2)를 보자.

## 과정

### Topbar 만들기

### Topbar에 CSS 속성 부여

### Navigation 구현

# 구현 Method 2

두번째 방법은 CSS를 사용해서 Topbar를 구현하고 Javascript를 사용해서
[자동 스크롤 가림 문제](#문제점-자동-스크롤-시-topbar가-화면을-가림)를 __완전히__ 해결한다.

## 과정

### Topbar 만들기

### Topbar에 CSS 속성 부여

### Navigation 구현
